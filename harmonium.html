<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>SargamWorld ‚Äì Harmonium</title>
  <link rel="stylesheet" href="style.css" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="icon" type="image/png" href="favicon.png" />
  <style>
   :root {
      --accent: #800000;
      --bg: #f3eee8;
      --text: #222;
      --muted: #5a5a5a;
      --radius: 12px;
      --container-w: 1100px;
      --transition: 0.3s ease;
    }

    /* Global Styles */
    * { box-sizing: border-box; margin:0; padding:0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    a { text-decoration: none; color: inherit; }
    .container { max-width: var(--container-w); margin: 0 auto; padding: 40px 20px; }

    #harmonium {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      position: relative;
      margin: 2rem auto;
      padding: 10px;
      width: calc(21 * 50px);
      height: 220px;
     background-image: url('wood.jpg');
      background-size: cover;
      
      border: 5px solid #3e1f0d;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
      border-radius: 8px;
    }

    .white-key {
      width: 50px;
      height: 200px;
      border: 1px solid #888;
      background: #fffef5;
      box-shadow: inset 0 0 4px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
      user-select: none;
      cursor: pointer;
    }

    .white-key.active {
      background: #ffd;
    }

    .white-key .label {
      position: absolute;
      bottom: 5px;
      width: 100%;
      font-size: 12px;
      font-weight: bold;
      color: #333;
    }

    .black-key {
      width: 30px;
      height: 120px;
      background: black;
      position: absolute;
      z-index: 2;
      top: 0;
      cursor: pointer;
      border-radius: 0 0 4px 4px;
      box-shadow: inset 0 -4px 10px rgba(255,255,255,0.1);
    }

    .black-key.active {
      background: #444;
    }

    #noteDisplay {
      margin-top: 1rem;
      font-weight: bold;
    }


#keyboard {
  width: 100%;
  max-width: 1000px;
  margin: auto;
  position: relative;
  touch-action: none;
}

.key.white {
  width: calc(100% / 21); /* Adjust based on total white keys */
  height: 160px;
}

.key.black {
  width: calc(100% / 35);
  height: 100px;
}

#scaleRaagSelector {
  text-align: center;
  margin-top: 1rem;
}

.dropdown {
  position: relative;
  display: inline-block;
}

.dropbtn {
  background-color: #240b36;
  color: white;
  padding: 10px 18px;
  font-size: 16px;
  border: none;
  cursor: pointer;
  border-radius: 8px;
}

.dropdown-content {
  display: none;
  position: absolute;
  background-color: #fff;
  min-width: 200px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  z-index: 3;
  padding: 1rem;
  border-radius: 10px;
  text-align: left;
}

.dropdown-content {
  display: none;
}

.dropdown-content.show {
  display: block;
}

.sub-options {
  display: none;
  margin-top: 0.5rem;
}

.sub-options.show {
  display: block;
}

.sub-dropdown span {
  font-weight: bold;
  display: block;
  margin-bottom: 0.5rem;
}

.sub-options button {
  display: block;
  margin: 4px 0;
  width: 100%;
  background: #eee;
  border: none;
  padding: 6px;
  border-radius: 5px;
  text-align: left;
  cursor: pointer;
}

.sub-options button:hover {
  background: #d0d0f0;
}

.highlight {
  background-color: #FFD580 !important; /* your light orange */
  border: 2px solid #000;               /* black border */
  position: relative;                   /* for Sa text positioning */
}

/* Default: Sa label at top */
.highlight::after {
  content: attr(data-label);
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  font-weight: bold;
  color: #000;
}

/* White keys: Sa label at bottom */
.highlight.white::after {
  bottom: 5px;
  top: auto;
}

/* Black keys: Sa label at top (default) */
.highlight.black::after {
  top: 4px;
  bottom: auto;
}
    @media (max-width: 480px) {
  .highlight::after {
    font-size: 10px;
  }
}

#raags-options {
  max-height: 200px;
  overflow-y: auto;
  display: none;        /* hide by default */
  flex-wrap: wrap;
  gap: 5px;
  padding: 10px;
}

#raags-options.show {
  display: flex;        /* show as flex when toggled */
}

    #scales-options {
  display: none;
}

#scales-options.show {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  padding: 10px;
}

/* Harmonium mobile scaling */
@media (max-width: 768px) {
  #harmonium {
    width: 100vw;
    height: auto;
    max-height: 200px; /* fits in landscape */
    padding: 5px;
    margin: 10px auto;
  }

  .white-key {
    width: calc(100% / 21) !important; /* scale to container width */
    height: 120px;
  }

  .black-key {
    width: calc(100% / 35) !important;
    height: 80px;
  }
}
    
   /* === UNIVERSAL NAVBAR (MATCHES INDEX EXACTLY) === */
.site-header {
  background: var(--accent);
  color: #fff;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  position: relative;
  top: 0;
  z-index: 1000;
}

.nav-inner {
  max-width: var(--container-w);
  margin: 0 auto;
  display:flex;
  align-items:center;
  justify-content: space-between;  /* ‚ù§Ô∏è THIS IS THE KEY */
  gap: 12px;
  padding:12px 20px;
}

.brand-wrap {
  display: flex;
  align-items: center;
  gap: 10px;
}

.logo {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  font-size: 1.2rem;
  color: #fff;
}

.logo img {
  height: 120px;
}

@media (pointer: coarse) {
  .logo span { display: none !important; }
}

@media (max-width: 1024px) {
  .logo span { display: none !important; }
}

.tagline {
  display: inline-block;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  font-size: 0.75rem;
  color: #f3e8e8;
}

@media (max-width: 768px) {
  .tagline { font-size: 0.7rem; }
}

.nav-links {
  display:flex;
  gap:10px;
  list-style:none;
}

.nav-links a {
  color:#fff;
  padding:8px 12px;
  border-radius:8px;
  font-weight:600;
  transition: var(--transition);
}

.nav-links a:hover {
  background: rgba(255,255,255,0.1);
}

.nav-links a.active {
  background: rgba(255,255,255,0.15);
}

.hamburger {
  display:none;
  cursor:pointer;
  font-size:1.6rem;
  color:#fff;
}

@media (max-width: 768px) {
  .nav-links {
    display:none;
    flex-direction: column;
    background: var(--accent);
    position: absolute;
    top: 60px;
    right: 20px;
    padding: 15px;
    border-radius: 8px;
  }
  .nav-links.show { display:flex; }
  .hamburger { display:block; }
}

/* === Footer (kept as is) === */
.sargam-footer {
  background: linear-gradient(to bottom, #0e0e12, #0b0b0e);
  padding: 45px 20px 20px;
  color: #ccc;
  border-top: 1px solid rgba(255,255,255,0.1);
  margin-top: 60px;
}

.footer-content {
  max-width: 1100px;
  margin: auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 40px;
}

.footer-brand-col { max-width: 260px; }
.footer-logo { height: 150px; border-radius: 12px; }
.footer-tagline { font-size: 0.85rem; color: #aaa; line-height: 1.4; margin-top: 10px; }

.footer-col h4 {
  margin-bottom: 12px; font-size: 1rem; color: #fff;
  border-left: 3px solid var(--accent);
  padding-left: 8px;
}

.footer-col a {
  color: #ccc;
  margin-bottom: 8px;
  font-size: 0.85rem;
  display: block;
  transition: 0.3s;
}
.footer-col a:hover { color: var(--accent); }

.footer-bottom {
  text-align: center; color: #888; font-size: 0.8rem;
  margin-top: 30px; padding-top: 15px;
  border-top: 1px solid rgba(255,255,255,0.1);
}


    /* Warning overlay */
#rotate-warning {
  display: none; /* hidden by default */
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.85);
  color: #fff;
  font-size: 1.2rem;
  text-align: center;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
}

#rotate-warning .message {
  max-width: 300px;
}
    body.portrait #harmonium {
  display: none !important;
}
body.portrait #rotate-warning {
  display: flex !important;
}

  </style>
</head>
<body>
  
<div id="rotate-warning" style="display:none;">
  <div class="message">
    Please rotate your device to landscape for the best experience
  </div>
</div>

  <!-- ====================================
       UNIVERSAL NAVBAR
       ==================================== -->
 <header class="site-header">
  <div class="nav-inner">

    <div class="brand-wrap">
      <a href="index.html" class="logo">
        <img src="LOGO.png" alt="SargamWorld Logo">
        <span>SargamWorld</span>
      </a>
      <span class="tagline">Explore ‚Ä¢ Learn ‚Ä¢ Practice</span>
    </div>

    <div class="hamburger" onclick="toggleMenu()">‚ò∞</div>

    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Home</a></li>
      <li><a href="songs.html">Songs</a></li>
      <li><a href="tools.html" class="active">Tools</a></li>
      <li><a href="about.html">About</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="support.html">Support</a></li>
    </ul>

  </div>
</header>


<div id="scaleRaagSelector">
  <div class="dropdown">
    <button class="dropbtn">üéπ Select Scale/Raag ‚ñº</button>
    <div class="dropdown-content">
      <div class="sub-dropdown">
  <span onclick="toggleSubOptions('scales')">Scales ‚ñ∏</span>
  <div class="sub-options" id="scales-options">
          <button onclick="highlightScale('C Major')">C Major</button>
          <button onclick="highlightScale('C# Major')">C# Major</button>
          <button onclick="highlightScale('D Major')">D Major</button>
          <button onclick="highlightScale('D# Major')">D# Major</button>
          <button onclick="highlightScale('E Major')">E Major</button>
          <button onclick="highlightScale('F Major')">F Major</button>
          <button onclick="highlightScale('F# Major')">F# Major</button>
          <button onclick="highlightScale('G Major')">G Major</button>
          <button onclick="highlightScale('G# Major')">G# Major</button>
          <button onclick="highlightScale('A Major')">A Major</button>
          <button onclick="highlightScale('A# Major')">A# Major</button>
          <button onclick="highlightScale('B Major')">B Major</button>
        </div>
      </div>
      <div class="sub-dropdown">
  <span onclick="toggleSubOptions('raags')">Raags ‚ñ∏</span>
  <div class="sub-options" id="raags-options">
          <button onclick="highlightRaag('Yaman')">Raag Yaman</button>
          <button onclick="highlightRaag('Bhairav')">Raag Bhairav</button>
          <button onclick="highlightRaag('Bhairavi')">Raag Bhairavi</button>
    <button onclick="highlightRaag('Desh')">Raag Desh</button>
<button onclick="highlightRaag('Kafi')">Raag Kafi</button>
<button onclick="highlightRaag('Durga')">Raag Durga</button>
<button onclick="highlightRaag('Bageshree')">Raag Bageshree</button>
<button onclick="highlightRaag('Khamaj')">Raag Khamaj</button>
    <button onclick="highlightRaag('Todi')">Raag Todi</button>
<button onclick="highlightRaag('Marwa')">Raag Marwa</button>
<button onclick="highlightRaag('Hansdhwani')">Raag Hansdhwani</button>
<button onclick="highlightRaag('Charukeshi')">Raag Charukeshi</button>
<button onclick="highlightRaag('Miyan ki Malhar')">Raag Miyan ki Malhar</button>
<button onclick="highlightRaag('Shivranjani')">Raag Shivranjani</button>
<button onclick="highlightRaag('Jog')">Raag Jog</button>
<button onclick="highlightRaag('Kedar')">Raag Kedar</button>
<button onclick="highlightRaag('Malkauns')">Raag Malkauns</button>
  <button onclick="highlightRaag('Shree')">Raag Shree</button>
  <button onclick="highlightRaag('Lalit')">Raag Lalit</button>
  <button onclick="highlightRaag('Multani')">Raag Multani</button>
  <button onclick="highlightRaag('Jogiya')">Raag Jogiya</button>
  <button onclick="highlightRaag('Saraswati')">Raag Saraswati</button>
  <button onclick="highlightRaag('Hemant')">Raag Hemant</button>
  <button onclick="highlightRaag('Madhmad Sarang')">Raag Madhmad Sarang</button>
    <button onclick="highlightRaag('Puriya')">Raag Puriya</button>
<button onclick="highlightRaag('Patdeep')">Raag Patdeep</button>
<button onclick="highlightRaag('Darbari Kanada')">Raag Darbari Kanada</button>
<button onclick="highlightRaag('Shuddha Sarang')">Raag Shuddha Sarang</button>
<button onclick="highlightRaag('Jaunpuri')">Raag Jaunpuri</button>

          <!-- Add more raags here -->
        </div>
      </div>
    </div>
  </div>
</div>

 <div id="raag-info" style="text-align: center; margin: 10px 0; font-weight: bold;"></div>

  
 <div id="harmonium"></div>
  <p><a href="index.html">‚¨ÖÔ∏è Back to Home</a></p>

  <!-- Footer -->
  <footer class="site-footer">
    <small>¬© 2025 SargamWorld ‚Äî All rights reserved. <a href="privacy.html">Privacy</a> ¬∑ <a href="terms.html">Terms</a></small>
  </footer>


  
 <script>
  let isMouseDown = false;
let currentNoteId = null;
   const audioBuffers = {};
const activeNodes = {};
   
  const ctx = new (window.AudioContext || window.webkitAudioContext)();

  const whiteKeys = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];
  const blackMap = { C: true, D: true, F: true, G: true, A: true };
  const semitones = {
    'C': 0, 'C#': 1, 'D': 2, 'D#': 3, 'E': 4,
    'F': 5, 'F#': 6, 'G': 7, 'G#': 8, 'A': 9, 'A#': 10, 'B': 11
  };
  const baseFreq = 65.41; // Frequency of C2

const container = document.getElementById('harmonium');
   
  const noteDisplay = document.getElementById('noteDisplay');
  let activeNotes = {};

  function freqOf(note) {
    const [pitch, oct] = note.match(/([A-G]#?)(\d)/).slice(1);
    return baseFreq * Math.pow(2, (semitones[pitch] + (oct - 2) * 12) / 12);
  }

function playNote(note, keyDiv) {
  if (!audioBuffers[note]) return;

  if (isMouseDown) {
    document.querySelectorAll('.white-key.active, .black-key.active').forEach(key => {
      const activeNote = key.dataset.note;
      if (activeNote !== note) stopNote(activeNote, key);
    });
  }

  const source = ctx.createBufferSource();
  source.buffer = audioBuffers[note];
  source.connect(ctx.destination);
  source.loop = true;
  source.start();

  activeNodes[note] = source;
  keyDiv.classList.add('active');
  noteDisplay.innerText = note;
}

function stopNote(note, keyDiv) {
  const source = activeNodes[note];
  if (source) {
    source.stop();
    delete activeNodes[note];
  }
  keyDiv.classList.remove('active');
}

  document.body.addEventListener('mousedown', () => isMouseDown = true);
  document.body.addEventListener('mouseup', () => {
    isMouseDown = false;
    // Stop all notes on mouse release
    document.querySelectorAll('.white-key.active, .black-key.active').forEach(key => {
      const note = key.dataset.note;
      stopNote(note, key);
    });
  });

  function makeKey(note, isBlack) {
    const key = document.createElement('div');
    key.className = isBlack ? 'black-key black' : 'white-key white'; // added class
    key.dataset.note = note;

    if (!isBlack && note.startsWith('C')) {
      const label = document.createElement('div');
      label.className = 'label';
      label.innerText = note;
      key.appendChild(label);
    }

    // Desktop events
key.addEventListener('mousedown', () => playNote(note, key));
key.addEventListener('mouseenter', () => {
  if (isMouseDown) playNote(note, key);
});
key.addEventListener('mouseup', () => stopNote(note, key));
key.addEventListener('mouseleave', () => {
  if (!isMouseDown) stopNote(note, key);
});

// Mobile events
key.addEventListener("touchstart", (e) => {
  e.preventDefault();
  playNote(note, key);
  isMouseDown = true;
}, { passive: false });

key.addEventListener("touchend", (e) => {
  e.preventDefault();
  stopNote(note, key);
  isMouseDown = false;
}, { passive: false });
    return key;
  }

// White keys
for (let oct = 2; oct <= 4; oct++) {
  whiteKeys.forEach((pitch, i) => {
    const note = pitch + oct;
    const whiteKey = makeKey(note, false);
    whiteKey.style.position = 'relative';
    container.appendChild(whiteKey);

// Black keys
const whiteKeyWidth = 100 / 21; // percent
if (blackMap[pitch]) {
  const blackNote = pitch + '#' + oct;
  const blackKey = makeKey(blackNote, true);
  const index = (oct - 2) * 7 + i; // 0-based
  blackKey.style.position = 'absolute';
  blackKey.style.left = `calc(${index * whiteKeyWidth}% + ${whiteKeyWidth/2}% )`; // middle of white key
  container.appendChild(blackKey);
}
  });
  }
   // wav
   async function loadSamples() {
  const notes = [];
  const octaves = [2, 3, 4];
  const keys = ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];

  octaves.forEach(oct => {
    keys.forEach(note => notes.push(`${note}${oct}`));
  });

  await Promise.all(notes.map(async (note) => {
    const response = await fetch(`harmonium/${encodeURIComponent(note)}.wav`);
    const arrayBuffer = await response.arrayBuffer();
    const audioBuffer = await ctx.decodeAudioData(arrayBuffer);
    audioBuffers[note] = audioBuffer;
  }));
}
   loadSamples();
function resumeAudioContext() {
  if (ctx.state === 'suspended') {
    ctx.resume();
  }
}
document.body.addEventListener('touchstart', resumeAudioContext, { once: true });
document.body.addEventListener('click', resumeAudioContext, { once: true });
 

const scaleMap = {
  "C Major": ['C', 'D', 'E', 'F', 'G', 'A', 'B'],
  "C# Major": ['C#', 'D#', 'F', 'F#', 'G#', 'A#', 'C'],
  "D Major": ['D', 'E', 'F#', 'G', 'A', 'B', 'C#'],
  "D# Major": ['D#', 'F', 'G', 'G#', 'A#', 'C', 'D'],
  "E Major": ['E', 'F#', 'G#', 'A', 'B', 'C#', 'D#'],
  "F Major": ['F', 'G', 'A', 'A#', 'C', 'D', 'E'],
  "F# Major": ['F#', 'G#', 'A#', 'B', 'C#', 'D#', 'F'],
  "G Major": ['G', 'A', 'B', 'C', 'D', 'E', 'F#'],
  "G# Major": ['G#', 'A#', 'C', 'C#', 'D#', 'F', 'G'],
  "A Major": ['A', 'B', 'C#', 'D', 'E', 'F#', 'G#'],
  "A# Major": ['A#', 'C', 'D', 'D#', 'F', 'G', 'A'],
  "B Major": ['B', 'C#', 'D#', 'E', 'F#', 'G#', 'A#']
};

const raagMap = {
  "Yaman": {
    notes: ['C#', 'D#', 'F', 'G','G#', 'A#', 'C'],
    aaroh: "N R G M^ D N S'",
    avroh: "S' N D P M^ G R S"
  },
  "Bhairav": {
    notes: ['C#', 'D', 'F', 'F#', 'G#', 'A', 'C'], // Db ‚Üí C#, C ‚Üí C# so r becomes C##
    aaroh: "S r G M P d N S'",
    avroh: "S' N d P M G r S"
  },
  "Bhairavi": {
    notes: ['C#', 'D', 'E', 'F#', 'G#', 'A', 'B'], // C ‚Üí C#, Eb ‚Üí D, Ab ‚Üí G#, Bb ‚Üí A#
    aaroh: "S r g M P d n S'",
    avroh: "S' n d P M g r S"
  },
  "Desh": {
    notes: ['C#', 'D#', 'F', 'F#', 'G#', 'A#', 'B','C'], // C ‚Üí C#, Bb ‚Üí A#
    aaroh: "N R M P N S'",
    avroh: "S' n D P M G R S"
  },
  "Kafi": {
    notes: ['C#', 'D#', 'E', 'F#', 'G#', 'A#', 'B'], // C ‚Üí C#, Eb ‚Üí D#, Bb ‚Üí A#
    aaroh: "S R g M P D n S'",
    avroh: "S' n D P M g R S"
  },
  "Durga": {
    notes: ['C#', 'D#', 'F#', 'G#', 'A#'], // C ‚Üí C#
    aaroh: "S R M P D S'",
    avroh: "S' D P M R S"
  },
  "Bageshree": {
    notes: ['C#', 'D#', 'E', 'F#', 'A#', 'B'], // C ‚Üí C#, Eb ‚Üí D#, Bb ‚Üí A#
    aaroh: "S g M D n S'",
    avroh: "S' n D M g R S"
  },
  "Khamaj": {
    notes: ['C#', 'D#', 'F', 'F#', 'G#', 'A#', 'B', 'C'], // C ‚Üí C#, Bb ‚Üí A#
    aaroh: "S G M P D N S'",
    avroh: "S' n D P M G R S"
  },
    
  "Todi": {
    notes: ['C#', 'D', 'E', 'G', 'A#', 'C'],
    aaroh: "S r g M^ D N S'",
    avroh: "S' N D M^ g r S"
  },
  "Marwa": {
    notes: ['C#', 'D', 'F', 'G', 'A#', 'C'],
    aaroh: "S r G M^ D N S'",
    avroh: "S' N D M^ G r S"
  },
  "Hansdhwani": {
    notes: ['C#', 'D#', 'F', 'G#', 'C'],
    aaroh: "S R G P N S'",
    avroh: "S' N P G R S"
  },
  "Charukeshi": {
    notes: ['C#', 'D#', 'F', 'F#', 'G#', 'A', 'B'],
    aaroh: "S R G M P d n S'",
    avroh: "S' n d P M G R S"
  },
  "Miyan ki Malhar": {
    notes: ['C#', 'D#', 'F#', 'G#', 'A#', 'C'],
    aaroh: "N S R M P N S'",
    avroh: "S' N D P M R S"
  },
  "Shivranjani": {
    notes: ['C#', 'D#', 'E', 'G#', 'A#'],
    aaroh: "S R g P D S'",
    avroh: "S' D P g R S"
  },
  "Jog": {
    notes: ['C#', 'E', 'F', 'F#', 'G#', 'B'],
    aaroh: "S G g M P n S'",
    avroh: "S' n P M g G S"
  },
  "Kedar": {
    notes: ['C#', 'D#', 'F', 'F#', 'G', 'G#', 'A#', 'C'],
    aaroh: "S M M^ P N S'",
    avroh: "S' N D P M^ G R S"
  },
  
  "Malkauns": {
    notes: ['C#', 'E', 'F#', 'A', 'B'],
    aaroh: "S g M d n S'",
    avroh: "S' n d M g S"
  },
  "Shree": {
    notes: ['C#', 'D', 'F', 'F#', 'A', 'C'],
    aaroh: "N r G M d N S'",
    avroh: "S' N d M G r S"
  },
  "Lalit": {
    notes: ['C#', 'D', 'F', 'F#', 'G', 'A#', 'C'],
    aaroh: "S r G M M^ D N S'",
    avroh: "S' N D M^ M G r S"
  },
  "Multani": {
    notes: ['C#', 'D', 'F', 'G', 'A#', 'C'],
    aaroh: "S r G M^ D N S'",
    avroh: "S' N D M^ G r S"
  },
  "Jogiya": {
    notes: ['C#', 'D', 'F#', 'G#', 'A'],
    aaroh: "S r M P d S'",
    avroh: "S' d P M r S"
  },
  "Saraswati": {
    notes: ['C#', 'D#', 'F', 'F#', 'A#', 'C'],
    aaroh: "S R G M D N S'",
    avroh: "S' N D M G R S"
  },
  "Hemant": {
    notes: ['C#', 'D#', 'F#', 'G#', 'A#', 'C'],
    aaroh: "S R M P D N S'",
    avroh: "S' N D P M R S"
  },
  "Madhmad Sarang": {
    notes: ['C#', 'D#', 'F#', 'G#', 'A#', 'C'],
    aaroh: "S R M P N S'",
    avroh: "S' N D P M R S"
  },
   "Puriya": {
  notes: ['C#', 'D', 'F', 'F#', 'A#', 'C'],
  aaroh: "N r G M D N S'",
  avroh: "S' N D M G r N S"
},

"Patdeep": {
  notes: ['C#', 'D#', 'E', 'F#', 'G#', 'A#', 'C'],
  aaroh: "N S g M P N S'",
  avroh: "S' N D P M g R S"
},

"Darbari Kanada": {
  notes: ['C#', 'D#', 'E', 'F#', 'G#', 'A', 'B'],
  aaroh: "S R g M P d n S'",
  avroh: "S' n d P M g R S"
},

"Shuddha Sarang": {
  notes: ['C#', 'D#', 'F#', 'G#', 'A#', 'C'],
  aaroh: "S R M P N S'",
  avroh: "S' N D P M R S"
},

"Jaunpuri": {
  notes: ['C#', 'D#', 'E', 'F#', 'G#', 'A', 'B'],
  aaroh: "S R M P d n S'",
  avroh: "S' n d P M g R S"
},

};


   
function clearHighlights() {
  document.querySelectorAll('.white-key, .black-key').forEach(key => key.classList.remove('highlight'));
}

function clearHighlights() {
  document.querySelectorAll('.white-key, .black-key').forEach(key => {
    key.classList.remove('highlight');
    key.removeAttribute('data-label'); // remove "Sa" label
  });
}

function highlightScale(name) {
  clearHighlights(); // Clear previous highlights

  const pitches = scaleMap[name];
  const sa = pitches[0]; // first note is Sa

  for (let oct = 2; oct <= 4; oct++) {
    pitches.forEach(pitch => {
      const note = `${pitch}${oct}`;
      const key = document.querySelector(`[data-note="${note}"]`);
      if (key) {
        key.classList.add('highlight');

        // Add "Sa" label only to the tonic
        if (pitch === sa) {
          key.setAttribute('data-label', 'Sa');
        } else {
          key.removeAttribute('data-label');
        }
      }
    });
  }

  // Clear any previously selected raag
  highlightedRaag = null;

  // Show only scale info
  const infoDiv = document.getElementById('raag-info');
  infoDiv.innerHTML = `<strong>Selected Scale:</strong> ${name}`;
}


function highlightRaag(name) {
  clearHighlights();
  const pitches = raagMap[name].notes;
  const aaroh = raagMap[name].aaroh;
  const avroh = raagMap[name].avroh;

  // Show Aaroh and Avroh
  document.getElementById('raag-info').innerHTML = `
    Raag ${name} <br>
    Aaroh: ${aaroh} <br>
    Avroh: ${avroh}
  `;

  const sa = pitches[0]; // first note is Sa

  for (let oct = 2; oct <= 4; oct++) {
    pitches.forEach(p => {
      const pitch = p.replace('b', '#');
      const full = `${pitch}${oct}`;
      const key = document.querySelector(`[data-note="${full}"]`);
      if (key) {
        key.classList.add('highlight');

        // Add "Sa" label only to the tonic
        if (pitch === sa) {
          key.setAttribute('data-label', 'Sa');
        } else {
          key.removeAttribute('data-label');
        }
      }
    });
  }
}

   
// Toggle sub-options for Scales and Raags
function toggleSubOptions(type) {
  const scaleList = document.getElementById('scales-options');
  const raagList = document.getElementById('raags-options');

  if (type === 'scales') {
    scaleList.classList.toggle('show');
    raagList.classList.remove('show');
  } else if (type === 'raags') {
    raagList.classList.toggle('show');
    scaleList.classList.remove('show');
  }
}
// Toggle dropdown main menu
document.querySelector('.dropbtn').addEventListener('click', function () {
  document.querySelector('.dropdown-content').classList.toggle('show');
});

   // Close dropdown when clicking outside
window.addEventListener('click', function (e) {
  const dropdown = document.querySelector('.dropdown');
  if (!dropdown.contains(e.target)) {
    document.querySelector('.dropdown-content').classList.remove('show');
    document.getElementById('scales-options').classList.remove('show');
    document.getElementById('raags-options').classList.remove('show');
  }
});

// Warning sign
function checkOrientation() {
  const warning = document.getElementById('rotate-warning');
  const harmonium = document.getElementById('harmonium');

  if (window.innerWidth <= 768 && window.innerHeight > window.innerWidth) {
    // Mobile portrait
    warning.style.display = "flex";
    harmonium.style.display = "none";
  } else {
    // Desktop or mobile landscape
    warning.style.display = "none";
    harmonium.style.display = "flex";
  }
}

// Attach the listener only once
['load', 'resize', 'orientationchange'].forEach(evt => 
  window.addEventListener(evt, checkOrientation)
);

   
  // Hamburger
 const hamburger = document.querySelector(".hamburger");
    const navLinks = document.querySelector(".nav-links");

    hamburger.addEventListener("click", () => {
      navLinks.classList.toggle("show");
    });
   
</script>

</body>
</html>
